Author: Michael Prokop <mika@debian.org>
Description: Fixing wrong return code of plymouth-set-default-theme (Closes: #605018).

diff -Naurp plymouth.orig/scripts/plymouth-set-default-theme.in plymouth/scripts/plymouth-set-default-theme.in
--- plymouth.orig/scripts/plymouth-set-default-theme.in	2011-09-08 15:03:24.212396867 +0200
+++ plymouth/scripts/plymouth-set-default-theme.in	2011-09-08 15:04:41.011888522 +0200
@@ -179,5 +179,7 @@ grep -q '^[[]Daemon[]]' ${PLYMOUTH_CONFD
 sed -i -e '/^Theme[[:blank:]]*=.*/d' ${PLYMOUTH_CONFDIR}/plymouthd.conf
 sed -i -e "s/^\([[]Daemon[]]\)\n*/\1\nTheme=${THEME_NAME}/" ${PLYMOUTH_CONFDIR}/plymouthd.conf
 
-[ $DO_INITRD_REBUILD -ne 0 ] && (${PLYMOUTH_LIBEXECDIR}/plymouth/plymouth-update-initrd)
+if [ $DO_INITRD_REBUILD -ne 0 ] ; then
+        (${PLYMOUTH_LIBEXECDIR}/plymouth/plymouth-update-initrd)
+fi
 
